{% extends "layout.html" %}

{% block scripts %}
    <script src="{{ url_for('static', filename='scripts/edit_team.js') }}"></script>
{% endblock scripts %}

{% block content %}

  <div class="alert alert-success sticky-top" role="alert" id="msg_success" style="display: none; top: 60px;">
    Team saved successfully!
  </div>
  <div class="alert alert-danger sticky-top" role="alert" id="msg_error" style="display: none; top: 60px;">
    Whoops. Something went wrong!
  </div>

  <select name='Race' id="roster_selector">
    {% for roster in rosters %}
      <option value="{{ roster.id }}" class="locked_{{ roster.locked }}">{{ roster.race.country }}</option>
    {% endfor %}
  </select>

  
  <button class="btn btn-primary" id="btn-drivers">Drivers</button>
  <button class="btn btn-secondary" id="btn-teams">Constructor</button>

  <div class='display-6' id='locked-text'></div>

  <h1 class='display-1 edit_driver'>Choose Drivers</h1>  
  <div class="row row-cols-1 row-cols-md-3 g-4 mb-5 pb-5 edit_driver">
    {% for driver  in drivers %}
    
      <div class="col">
        <div class="card h-100 edit_driver" id='driver_{{ driver.id }}'>
          <div style="position: relative; ">
            <img src="{{ url_for('static', filename='images/drivers/placeholder.jpg') }}" class="card-img-top img-thumbnail img-darken" alt="Driver Picture">
            <img src="{{ url_for('static', filename='images/drivers/checkmark.png') }}" class="checkmark-img">
          </div>
          <h5 class="card-header">#{{ driver.id }}  {{ driver.name }}</h5>
          <div class="card-body">
            <p class="card-text">{{ driver.first_name }} {{ driver.name }}</p>
            <p class="card-text">{{ driver.team.name_short }}</p>
          </div>
          <div class="card-footer price fw-bolder">{{ driver.cost }}</div>
        </div>
      </div>
    
    {% endfor %}
  </div>

  <h1 class='display-1 edit_team'>Choose Constructor</h1>
  <div class="row row-cols-1 row-cols-md-3 g-4 mb-5 pb-5 edit_team">
    {% for team in teams %}
    
      <div class="col">
        <div class="card h-100 edit_team" id='team_{{ team.id }}'>
          <div style="position: relative;">
            <img src="{{ url_for('static', filename='images/teams/placeholder.jpg') }}" class="card-img-top img-thumbnail img-darken" alt="Team Picture">
            <img src="{{ url_for('static', filename='images/drivers/checkmark.png') }}" class="checkmark-img">
          </div>
          <h5 class="card-header">{{ team.name_short }}</h5>
          <div class="card-body">
            <p class="card-text">{{ team.name }}</p>
            <p class="card-text">{{ team.drivers[0].name }} - {{ team.drivers[1].name }}</p>
          </div>
          <div class="card-footer price fw-bolder">{{ team.cost }}</div>
        </div>
      </div>
    
    {% endfor %}
  </div>
  
  <footer class='fixed-bottom mx-5 mb-3'>
    <button class='btn btn-primary mb-3' id='save-btn' type='button'>Save</button>
    <button class='btn btn-secondary mb-3' id='clear-btn' type='button'>Clear</button>
    <div class="progress" style="height: 20px;">
      <div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id='progress-bar'>0</div>
    </div>
  </footer>

{% endblock content %}
